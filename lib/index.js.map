{"version":3,"sources":["../index.js"],"names":[],"mappings":";;;;AAAA,IAAM,OAAO,QAAQ,aAAR,CAAP;AACN,IAAM,gBAAgB,KAAK,MAAL;AACtB,IAAM,QAAQ,KAAK,KAAL;AACd,IAAM,OAAO,KAAK,IAAL;;AAEb,SAAS,cAAT,CAAwB,SAAxB,EAAmC,QAAnC,EAA6C;AAC3C,MAAI,OAAO,IAAP,CADuC;AAE3C,MAAI,OAAO,IAAP,CAFuC;;AAI3C,MAAI,aAAa,UAAU,UAAV,CAAqB,MAArB,GAA8B,CAA9B,EAAiC;AAChD,cAAU,SAAV,GAAsB,EAAtB,CADgD;GAAlD;;AAIA,MAAM,SAAS,SAAT,MAAS,CAAC,OAAD,EAAa;AAC1B,QAAI,UAAU,KAAK,IAAL,EAAW,OAAX,CAAV,CADsB;AAE1B,WAAO,MAAM,IAAN,EAAY,OAAZ,CAAP,CAF0B;AAG1B,WAAO,OAAP,CAH0B;AAI1B,WAAO,IAAP,CAJ0B;GAAb,CAR4B;;AAe3C,MAAM,SAAS,SAAT,MAAS,CAAC,OAAD,EAAU,OAAV,EAAsB;AACnC,WAAO,OAAP,CADmC;AAEnC,WAAO,cAAc,IAAd,CAAP,CAFmC;AAGnC,cAAU,WAAV,CAAsB,IAAtB,EAHmC;AAInC,WAAO,IAAP,CAJmC;GAAtB,CAf4B;;AAsB3C,SAAO,SAAS,QAAT,CAAkB,IAAlB,EAAwB,OAAxB,EAAiC;AACtC,WAAO,SAAS,IAAT,GACH,OAAO,gBAAM,sBAAa,QAAnB,CAAP,CADG,GAEH,OAAO,gBAAM,sBAAa,QAAnB,CAAP,CAFG,CAD+B;GAAjC,CAtBoC;CAA7C;;AA6BA,OAAO,OAAP,GAAiB,cAAjB","file":"index.js","sourcesContent":["const vdom = require(\"virtual-dom\");\r\nconst createElement = vdom.create;\r\nconst patch = vdom.patch;\r\nconst diff = vdom.diff;\r\n\r\nfunction createRenderer(container, dispatch) {\r\n  let view = null;\r\n  let node = null;\r\n\r\n  if (container && container.childNodes.length > 0) {\r\n    container.innerHTML = \"\";\r\n  }\r\n\r\n  const update = (newView) => {\r\n    let patches = diff(view, newView);\r\n    node = patch(node, patches);\r\n    view = newView;\r\n    return node;\r\n  };\r\n\r\n  const create = (newView, context) => {\r\n    view = newView;\r\n    node = createElement(view);\r\n    container.appendChild(node);\r\n    return node;\r\n  };\r\n\r\n  return function renderer(view, context) {\r\n    return node !== null\r\n      ? update(view({dispatch, ...context}))\r\n      : create(view({dispatch, ...context}));\r\n  };\r\n}\r\n\r\nmodule.exports = createRenderer;"]}